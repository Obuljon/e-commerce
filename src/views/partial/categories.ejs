<div class="site-section site-blocks-2">
    <div class="container">

      <div class="row justify-content-center text-center mb-5">
        <div class="col-md-7 site-section-heading pt-4">
          <h2>Categories</h2>
        </div>
      </div>
      
      <div class="row" id="categories">
   
      </div>
    </div>
  </div>
  <script>
    (function(){
      fetch("/api/categories")
      .then(response => {
      if (response.ok) {
        return response.json();
      } else {
        throw new Error('Server javobi bilan muammo yuz berdi.');
      }
    })
    .then(data => {
      data.forEach(item => {
      const categories = document.querySelector("#categories");
      const div = document.createElement('div');
      div.className = 'col-sm-6 col-md-6 col-lg-4 mb-4 mb-lg-0';
      div.innerHTML = `
                          <a class="block-2-item" href="/shop/all/all/${item.name}/all/1">
                            <figure class="image">
                              <img src="/uploads/${item.image}" alt="" class="img-fluid">
                            </figure>
                            <div class="text">
                              <span class="text-uppercase"></span>
                              <h3><${item.name}></h3>
                            </div>
                          </a>`;
                  categories.appendChild(div);
                })
              })
    
    .catch(error => {
      console.error(error);
    });
  })()
  </script>